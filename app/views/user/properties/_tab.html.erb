  <div class="wrap">
    <ul id="tab-menu">
      <li><a href="#tab1" class="active">口コミを投稿する</a></li>
      <li><a href="#tab2" class="">口コミを見る</a></li>
      <li><a href="#tab3" class="">質問をする</a></li>
      <li><a href="#tab4" class="Q&A">Q&A</a></li>
      <li><a href="#tab5" class="">ハウスルールをシェアする</a></li>

    </ul>
  </div>
  <div id="tab-contents">
    <div id="tab1" class="tab">
      <%= form_with model: @review, url: property_reviews_path(property_id: @property.id) do |f| %>

        <h2>関係性を選ぶ</h2>
        <%#=form_with  model: @review_relation_new,url: new_property_review_path,method: :get do |f| %>

        <p><%=f.radio_button :relation, Review.relations.key(0) %>
        <%=f.label :relation, Review.relations_i18n[:resident] %></p>


        <p><%=f.radio_button :relation, Review.relations.key(1) %>
        <%=f.label :relation, Review.relations_i18n[:former_resident] %></p>
        <%= f.select :relation_detail1, [['2022年頃まで住んでいた','twenty_two'], ['2021年頃まで住んでいた','twenty_one'], ['2020年頃まで住んでいた','twenty'], ['2019年頃まで住んでいた','nineteen'], ['2018年頃まで住んでいた','eighteen'], ['それ以前に住んでいた','before_that']],{prompt: '選択してください'} %>

          <!--モデルが関連している選択ボックス (2行目)&データベースから取ってきてないからこの書き方でいいデータベースから取ってきてたらnagano_cakeのやり方-->
        <p><%=f.radio_button :relation, Review.relations.key(2) %>
        <%=f.label :relation, Review.relations_i18n[:others] %></p>
        <%= f.select :relation_detail2, [['入居検討者','kentosya'], ['入居予定者','yoteisya'], ['周辺住人','syuhenjunin'], ['住人の知人','chizin'], ['大家さん','oya'], ['不動産関係者','kankeisya'], ['その他','sonota']],{prompt: '選択してください'} %>

           <%#=f.submit '次へ進む'%>
      <%#end%>

        <h2>住人の雰囲気</h2>
        良い
        <%= f.radio_button :atmosphere, '5' %>
        <%= f.radio_button :atmosphere, '4' %>
        <%= f.radio_button :atmosphere, '3' %>
        <%= f.radio_button :atmosphere, '2' %>
        <%= f.radio_button :atmosphere, '1' %>
        良くない

         <h2>住人同士の距離感</h2>
        親しい
        <%= f.radio_button :distance_sense, '5' %>
        <%= f.radio_button :distance_sense, '4' %>
        <%= f.radio_button :distance_sense, '3' %>
        <%= f.radio_button :distance_sense, '2' %>
        <%= f.radio_button :distance_sense, '1' %>
        挨拶程度

        <h2>共有部の清潔さ</h2>
        清潔
        <%= f.radio_button :cleanliness_shared,'5' %>
        <%= f.radio_button :cleanliness_shared,'4' %>
        <%= f.radio_button :cleanliness_shared,'3' %>
        <%= f.radio_button :cleanliness_shared,'2' %>
        <%= f.radio_button :cleanliness_shared,'1' %>
        不衛生

        <h2>水回りの混雑具合</h2>
        いつでも使える
        <%= f.radio_button :congestion_shared, '5' %>
        <%= f.radio_button :congestion_shared, '4' %>
        <%= f.radio_button :congestion_shared, '3' %>
        <%= f.radio_button :congestion_shared, '2' %>
        <%= f.radio_button :congestion_shared, '1' %>
      　混雑している

        <h2>騒音(他の住人による生活音)</h2>
        静か
        <%= f.radio_button :noise,'5' %>
        <%= f.radio_button :noise,'4' %>
        <%= f.radio_button :noise,'3' %>
        <%= f.radio_button :noise,'2' %>
        <%= f.radio_button :noise,'1' %>
        騒がしい


         <h2>ネット速度</h2>
        速い
        <%= f.radio_button :net_speed,'5' %>
        <%= f.radio_button :net_speed,'4' %>
        <%= f.radio_button :net_speed,'3' %>
        <%= f.radio_button :net_speed,'2' %>
        <%= f.radio_button :net_speed,'1' %>
        遅い

         <h2>シャワーの水圧</h2>
        強い
        <%= f.radio_button :shower,'5' %>
        <%= f.radio_button :shower,'4' %>
        <%= f.radio_button :shower,'3' %>
        <%= f.radio_button :shower,'2' %>
        <%= f.radio_button :shower,'1' %>
        遅い

         <h2>パーティーやイベントの開催</h2>
        頻繁にある
        <%= f.radio_button :event,'5' %>
        <%= f.radio_button :event,'4' %>
        <%= f.radio_button :event,'3' %>
        <%= f.radio_button :event,'2' %>
        <%= f.radio_button :event,'1' %>
        少ない


        <h3>タイトル</h3>
        <%= f.text_field :title %>
        <h3>本文</h3>
        <%= f.text_area :text %>
        <%#= f.hidden_field :relation,value: @review_relation.relation %>
        <%#= f.hidden_field :relation_detail,value: @review_relation.relation_detail %>
        住み続けたい?<%= f.radio_button :repeat,'3' %>はい
        <%= f.radio_button :repeat,'2' %>いいえ
        <%= f.radio_button :repeat,'1'%>わからない

        <%= f.submit"投稿する" %>
      <%end%>
    </div>

    <div id="tab2" class="tab">
      <h2>口コミを見る</h2>
      <%@reviews.each do |review|%>
        <p><%=review.title%></p>
        <p><%=review.text%></p>
        <% if review.repeat == "3" %>
          <p>住み続けたい</p>
        <%end%>
        <% if review.atmosphere == 5 %>
          住民の雰囲気 良い<%= image_tag "1.jpg" %>良くない<br>
        <% elsif review.atmosphere == 4 %>
          住民の雰囲気 良い<%= image_tag "2.jpg" %>良くない<br>
        <% elsif review.atmosphere == 3 %>
          住民の雰囲気 良い<%= image_tag "3.jpg" %>良くない<br>
        <% elsif review.atmosphere == 2 %>
          住民の雰囲気 良い<%= image_tag "4.jpg" %>良くない<br>
        <% elsif review.atmosphere == 1 %>
          住民の雰囲気 良い<%= image_tag "5.jpg" %>良くない<br>
        <%end%>
        <% if review.distance_sense == 5 %>
          住人同士の距離感 親しい<%= image_tag "1.jpg" %>挨拶程度<br>
        <% elsif review.distance_sense == 4 %>
          住人同士の距離感 親しい<%= image_tag "2.jpg" %>挨拶程度<br>
        <% elsif review.distance_sense == 3 %>
          住人同士の距離感 親しい<%= image_tag "3.jpg" %>挨拶程度<br>
        <% elsif review.distance_sense == 2 %>
          住人同士の距離感 親しい<%= image_tag "4.jpg" %>挨拶程度<br>
        <% elsif review.distance_sense == 1 %>
          住人同士の距離感 親しい<%= image_tag "5.jpg" %>挨拶程度<br>
        <%end%>
        <% if review.cleanliness_shared == 5 %>
          共有部の清潔さ 清潔<%= image_tag "1.jpg" %>不衛生<br>
        <% elsif review.cleanliness_shared == 4 %>
          共有部の清潔さ 清潔<%= image_tag "2.jpg" %>不衛生<br>
        <% elsif review.cleanliness_shared == 3 %>
          共有部の清潔さ 清潔<%= image_tag "3.jpg" %>不衛生<br>
        <% elsif review.cleanliness_shared == 2 %>
          共有部の清潔さ 清潔<%= image_tag "4.jpg" %>不衛生<br>
        <% elsif review.cleanliness_shared == 1 %>
          共有部の清潔さ 清潔<%= image_tag "5.jpg" %>不衛生<br>
        <%end%>
        <% if review.congestion_shared == 5 %>
          水回りの混雑具合　いつでも使える<%= image_tag "1.jpg" %>良く混雑している<br>
        <% elsif review.congestion_shared == 4 %>
          水回りの混雑具合　いつでも使える<%= image_tag "2.jpg" %>良く混雑している<br>
        <% elsif review.congestion_shared == 3 %>
          水回りの混雑具合　いつでも使える<%= image_tag "3.jpg" %>良く混雑している<br>
        <% elsif review.congestion_shared == 2 %>
          水回りの混雑具合　いつでも使える<%= image_tag "4.jpg" %>良く混雑している<br>
        <% elsif review.congestion_shared == 1 %>
          水回りの混雑具合　いつでも使える<%= image_tag "5.jpg" %>良く混雑している<br>
        <%end%>
        <% if review.noise == 5 %>
          騒音(他の住人による生活音) 静か<%= image_tag "1.jpg" %>騒がしい<br>
        <% elsif review.noise == 4 %>
          騒音(他の住人による生活音) 静か<%= image_tag "2.jpg" %>騒がしい<br>
        <% elsif review.noise == 3 %>
          騒音(他の住人による生活音) 静か<%= image_tag "3.jpg" %>騒がしい<br>
        <% elsif review.noise == 2 %>
          騒音(他の住人による生活音) 静か<%= image_tag "4.jpg" %>騒がしい<br>
        <% elsif review.noise == 1 %>
          騒音(他の住人による生活音) 静か<%= image_tag "5.jpg" %>騒がしい<br>
        <%end%>
        <% if review.net_speed == 5 %>
        　ネット速度　速い<%= image_tag "1.jpg" %>遅い<br>
        <% elsif review.net_speed == 4 %>
          ネット速度　速い<%= image_tag "2.jpg" %>遅い<br>
        <% elsif review.net_speed == 3 %>
          ネット速度　速い<%= image_tag "3.jpg" %>遅い<br>
        <% elsif review.net_speed == 2 %>
          ネット速度　速い<%= image_tag "4.jpg" %>遅い<br>
        <% elsif review.net_speed == 1 %>
          ネット速度　速い<%= image_tag "5.jpg" %>遅い<br>
        <%end%>
        <% if review.shower == 5 %>
        　シャワーの水圧　強い<%= image_tag "1.jpg" %>弱い<br>
        <% elsif review.shower == 4 %>
          シャワーの水圧　強い<%= image_tag "2.jpg" %>弱い<br>
        <% elsif review.shower == 3 %>
       　　シャワーの水圧　強い<%= image_tag"3.jpg" %>弱い<br>
        <% elsif review.shower == 2 %>
          シャワーの水圧　強い<%= image_tag "4.jpg" %>弱い<br>
        <% elsif review.shower == 1 %>
          シャワーの水圧　強い<%= image_tag "5.jpg" %>弱い<br>
        <%end%>
         <% if review.event == 5 %>
        　パーティーやイベントの開催　頻繁にある<%= image_tag "1.jpg" %>少ない<br>
        <% elsif review.event == 4 %>
          パーティーやイベントの開催　頻繁にある<%= image_tag "2.jpg" %>少ない<br>
        <% elsif review.event == 3 %>
       　　パーティーやイベントの開催　頻繁にある<%= image_tag "3.jpg" %>少ない<br>
        <% elsif review.event == 2 %>
          パーティーやイベントの開催　頻繁にある<%= image_tag "4.jpg" %>少ない<br>
        <% elsif review.event == 1 %>
          パーティーやイベントの開催　頻繁にある<%= image_tag "5.jpg" %>少ない<br>
        <%end%>

        <%=review.user.nickname%>
        <%=review.user.gender%>
        <%=review.user.age %>代
        <%=review.relation_i18n%>
        <%=review.relation_detail_i18n%>

      <%end%>
　　</div>

　　<div id="tab3" class="tab">
　　  <h2>質問をする</h2>
　　  <%= form_with model: @question, url:  property_questions_path(property_id: @property.id) do |f| %>
        <h3>タイトル</h3>
        <%= f.text_field :title %>
        <h3>本文</h3>
        <%= f.text_area :body %></br>
        <%= f.select :relation, [['住人','resident'],['元住人','former_resident'],['入居検討者','kentosya'], ['入居予定者','yoteisya'], ['周辺住人','syuhenjunin'], ['住人の知人','chizin'], ['大家さん','oya'], ['不動産関係者','kankeisya'], ['その他','sonota']],{prompt: '選択してください'} %>
        <%= f.submit "投稿する" %>
      <%end%>
　　</div>

　　<div id="tab4" class="tab">
　　  <%= render 'question', questions: @questions, comment: @comment, comment_comment: @comment_comment %>
　　</div>

　　<div id="tab5" class="tab">
　　  <h2>ハウスルールをシェアする</h2>
　　  <p>※なるべく下記のハウスルールリストにまだ書かれていないことをご記入ください</p>
　　  <%= form_with model: @rule, url:  property_rules_path(property_id: @property.id) do |f| %>
        <%= f.text_area :body %>
        <%=f.submit 'シェアする'%>
      <%end%>


　　  <%@rules.each do |rule|%>
　　    <ul>
　　      <li><%= rule.body %></li>
　　    </ul>
      <%end%>
　　</div>

　　</div>
　</div>
</div>

<script>
// RailsのデータをJSにセットする #ここでは質問数をセット
const qLength = "<%== @questions.length %>"
// クラス名が[Q&A]のDOM要素を取得
const tab4 = document.getElementsByClassName("Q&A")[0]
// 質問があった場合あテキストカラーを変更する
if(qLength !== "0") {
  tab4.style.color ="red"
}
// テキストを追加する
tab4.textContent += "(" + qLength + ")"

</script>